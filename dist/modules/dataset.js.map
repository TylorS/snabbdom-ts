{"version":3,"file":null,"sources":["../../src/modules/dataset.ts"],"sourcesContent":["import { VNode, Module } from '../interfaces'\n\nfunction updateDataset(oldVnode: VNode, vnode: VNode) {\n  let elm = vnode.elm as HTMLElement\n  let oldDataset = oldVnode.data && oldVnode.data.dataset || {}\n  let dataset = vnode.data && vnode.data.dataset || {}\n  let key: any\n\n  for (key in oldDataset) {\n    if (!dataset[key]) {\n      delete elm.dataset[key]\n    }\n  }\n  for (key in dataset) {\n    if (oldDataset[key] !== dataset[key]) {\n      elm.dataset[key] = dataset[key]\n    }\n  }\n}\n\nconst DatasetModule: Module = {\n  create: updateDataset,\n  update: updateDataset,\n}\n\nexport default DatasetModule\n"],"names":[],"mappings":";;;;;;IAEA,uBAAuB,QAAe,EAAE,KAAY;QAClD,IAAI,GAAG,GAAG,KAAK,CAAC,GAAkB,CAAA;QAClC,IAAI,UAAU,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAA;QAC7D,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAA;QACpD,IAAI,GAAQ,CAAA;QAEZ,KAAK,GAAG,IAAI,UAAU,EAAE;YACtB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACjB,OAAO,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;aACxB;SACF;QACD,KAAK,GAAG,IAAI,OAAO,EAAE;YACnB,IAAI,UAAU,CAAC,GAAG,CAAC,KAAK,OAAO,CAAC,GAAG,CAAC,EAAE;gBACpC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAA;aAChC;SACF;AACH,IAAA,CAAC;AAED,IAAA,IAAM,aAAa,GAAW;QAC5B,MAAM,EAAE,aAAa;QACrB,MAAM,EAAE,aAAa;KACtB,CAAA,AAED;;;;"}