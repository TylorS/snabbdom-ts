{"version":3,"file":null,"sources":["../../src/modules/dataset.ts"],"sourcesContent":["import { VNode, Module } from '../interfaces'\n\nfunction updateDataset(oldVnode: VNode, vnode: VNode) {\n  let elm = vnode.elm as HTMLElement\n  let oldDataset = oldVnode.data && oldVnode.data.dataset || {}\n  let dataset = vnode.data && vnode.data.dataset || {}\n  let key: any\n\n  for (key in oldDataset) {\n    if (!dataset[key]) {\n      delete elm.dataset[key]\n    }\n  }\n  for (key in dataset) {\n    if (oldDataset[key] !== dataset[key]) {\n      elm.dataset[key] = dataset[key]\n    }\n  }\n}\n\nconst DatasetModule: Module = {\n  create: updateDataset,\n  update: updateDataset,\n}\n\nexport default DatasetModule\n"],"names":[],"mappings":";;;;;;AAEA,uBAAuB,QAAe,EAAE,KAAY;IAClD,IAAI,GAAG,GAAG,KAAK,CAAC,GAAkB,CAAA;IAClC,IAAI,UAAU,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAA;IAC7D,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAA;IACpD,IAAI,GAAQ,CAAA;IAEZ,KAAK,GAAG,IAAI,UAAU,EAAE;QACtB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YACjB,OAAO,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;SACxB;KACF;IACD,KAAK,GAAG,IAAI,OAAO,EAAE;QACnB,IAAI,UAAU,CAAC,GAAG,CAAC,KAAK,OAAO,CAAC,GAAG,CAAC,EAAE;YACpC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAA;SAChC;KACF;CACF;AAED,IAAM,aAAa,GAAW;IAC5B,MAAM,EAAE,aAAa;IACrB,MAAM,EAAE,aAAa;CACtB,CAAA,AAED;;;;"}