{"version":3,"file":null,"sources":["../../src/modules/class.ts"],"sourcesContent":["import { VNode, Module } from '../interfaces'\n\n\nfunction updateClass(oldVnode: VNode, vnode: VNode) {\n  let cur: any\n  let name: string\n  let elm = vnode.elm as HTMLElement\n  let oldClass = oldVnode.data && oldVnode.data.class || {}\n  let klass = vnode.data && vnode.data.class || {}\n\n  for (name in oldClass) {\n    if (!klass[name]) {\n      (<HTMLElement> elm).classList.remove(name)\n    }\n  }\n  for (name in klass) {\n    cur = klass[name]\n    if (cur !== oldClass[name]) {\n      if (cur) {\n        elm.classList.add(name)\n      } else {\n        elm.classList.remove(name)\n      }\n    }\n  }\n}\n\nconst ClassModule: Module = {\n  create: updateClass,\n  update: updateClass\n}\n\nexport default ClassModule\n"],"names":[],"mappings":";;;;;;IAGA,qBAAqB,QAAe,EAAE,KAAY;QAChD,IAAI,GAAQ,CAAA;QACZ,IAAI,IAAY,CAAA;QAChB,IAAI,GAAG,GAAG,KAAK,CAAC,GAAkB,CAAA;QAClC,IAAI,QAAQ,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAA;QACzD,IAAI,KAAK,GAAG,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAA;QAEhD,KAAK,IAAI,IAAI,QAAQ,EAAE;YACrB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;gBACD,GAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;aAC3C;SACF;QACD,KAAK,IAAI,IAAI,KAAK,EAAE;YAClB,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,CAAA;YACjB,IAAI,GAAG,KAAK,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC1B,IAAI,GAAG,EAAE;oBACP,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;iBACxB;qBAAM;oBACL,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;iBAC3B;aACF;SACF;AACH,IAAA,CAAC;AAED,IAAA,IAAM,WAAW,GAAW;QAC1B,MAAM,EAAE,WAAW;QACnB,MAAM,EAAE,WAAW;KACpB,CAAA,AAED;;;;"}