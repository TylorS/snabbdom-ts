{"version":3,"file":null,"sources":["../../src/modules/class.ts"],"sourcesContent":["import { VNode, Module } from '../interfaces'\n\nfunction updateClass(oldVnode: VNode, vnode: VNode) {\n  let cur: any\n  let name: string\n  let elm = vnode.elm as HTMLElement\n  let oldClass = oldVnode.data && oldVnode.data.class || {}\n  let klass = vnode.data && vnode.data.class || {}\n\n  for (name in oldClass) {\n    if (!klass[name]) {\n      (<HTMLElement> elm).classList.remove(name)\n    }\n  }\n  for (name in klass) {\n    cur = klass[name]\n    if (cur !== oldClass[name]) {\n      if (cur) {\n        elm.classList.add(name)\n      } else {\n        elm.classList.remove(name)\n      }\n    }\n  }\n}\n\nconst ClassModule: Module = {\n  create: updateClass,\n  update: updateClass\n}\n\nexport default ClassModule\n"],"names":[],"mappings":";;;;;;AAEA,qBAAqB,QAAe,EAAE,KAAY;IAChD,IAAI,GAAQ,CAAA;IACZ,IAAI,IAAY,CAAA;IAChB,IAAI,GAAG,GAAG,KAAK,CAAC,GAAkB,CAAA;IAClC,IAAI,QAAQ,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAA;IACzD,IAAI,KAAK,GAAG,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAA;IAEhD,KAAK,IAAI,IAAI,QAAQ,EAAE;QACrB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;YACD,GAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;SAC3C;KACF;IACD,KAAK,IAAI,IAAI,KAAK,EAAE;QAClB,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,CAAA;QACjB,IAAI,GAAG,KAAK,QAAQ,CAAC,IAAI,CAAC,EAAE;YAC1B,IAAI,GAAG,EAAE;gBACP,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;aACxB;iBAAM;gBACL,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;aAC3B;SACF;KACF;CACF;AAED,IAAM,WAAW,GAAW;IAC1B,MAAM,EAAE,WAAW;IACnB,MAAM,EAAE,WAAW;CACpB,CAAA,AAED;;;;"}