!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("hero",["exports"],e):e(t.hero=t.hero||{})}(this,function(t){"use strict";function e(t,e,n){h(function(){t[e]=n})}function n(t){var e=null;if(document.createRange){var n=document.createRange();n.selectNodeContents(t),n.getBoundingClientRect&&(e=n.getBoundingClientRect())}return e}function i(t,e,n){if(t&&e){var i=e.left+e.width/2-n.left,o=e.top+e.height/2-n.top;return i+"px "+o+"px"}return"0 0"}function o(t,e){return t&&e?t.left+t.width/2-(e.left+e.width/2):0}function r(t,e){return t&&e?t.top+t.height/2-(e.top+e.height/2):0}function d(t){return 1===t.childNodes.length&&3===t.childNodes[0].nodeType}function a(){l={},c=[]}function s(t,e){var n=e.data&&e.data.hero;n&&n.id&&(c.push(n.id),c.push(e))}function f(t){var e=t.data&&t.data.hero;if(e&&e.id){var i=t.elm;t.isTextNode=d(i),t.boundingRect=i.getBoundingClientRect(),t.textRect=t.isTextNode?n(i.childNodes[0]):null;var o=window.getComputedStyle(i);t.savedStyle=JSON.parse(JSON.stringify(o)),l[e.id]=t}}function u(){var t,a,s,f,u,p,h,g,m,y,x,v,w,b,N,R,C,S,O;for(t=0;t<c.length;t+=2)if(a=c[t],s=c[t+1].elm,f=l[a]){C=f.isTextNode&&d(s),b=s.style,R=window.getComputedStyle(s),u=f.elm,N=u.style,m=s.getBoundingClientRect(),g=f.boundingRect,C?(S=n(s.childNodes[0]),O=f.textRect,y=o(O,S),x=r(O,S)):(y=g.left-m.left,x=g.top-m.top),p=m.height/Math.max(g.height,1),h=C?p:m.width/Math.max(g.width,1),v=b.transform,w=b.transition,"inline"===R.display&&(b.display="inline-block"),b.transition=w+"transform 0s",b.transformOrigin=i(C,S,m),b.opacity="0",b.transform=v+"translate("+y+"px, "+x+"px) scale("+1/h+", "+1/p+")",e(b,"transition",w),e(b,"transform",v),e(b,"opacity","1");for(var T in f.savedStyle)if("number"==typeof T&&parseInt(T)!==T){var B="ms"===T.substring(0,2),M="moz"===T.substring(0,3),j="webkit"===T.substring(0,6);B||M||j||(N[T]=f.savedStyle[T])}N.position="absolute",N.top=g.top+"px",N.left=g.left+"px",N.width=g.width+"px",N.height=g.height+"px",N.margin=0,N.transformOrigin=i(C,O,g),N.transform="",N.opacity="1",document.body.appendChild(u),e(N,"transform","translate("+-y+"px, "+-x+"px) scale("+h+", "+p+")"),e(N,"opacity","0"),u.addEventListener("transitionend",function(t){"transform"===t.propertyName&&document.body.removeChild(t.target)})}l={},c=[]}var l,c,p="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,h=function(t){p(function(){p(t)})},g={pre:a,create:s,destroy:f,post:u};t.HeroModule=g,Object.defineProperty(t,"__esModule",{value:!0})});