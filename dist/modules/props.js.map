{"version":3,"file":null,"sources":["../../src/modules/props.ts"],"sourcesContent":["import { VNode, Module } from '../interfaces'\n\nfunction updateProps(oldVnode: VNode, vnode: VNode) {\n  if (!oldVnode.data && !vnode.data) return\n  let key: any\n  let cur: any\n  let old: any\n  let elm: any = vnode.elm\n  let oldProps: any = oldVnode.data && oldVnode.data.props || {}\n  let props: any = vnode.data && vnode.data.props || {}\n\n  for (key in oldProps) {\n    if (!props[key]) {\n      delete elm[key]\n    }\n  }\n  for (key in props) {\n    cur = props[key]\n    old = oldProps[key]\n    if (old !== cur && (key !== 'value' || elm[key] !== cur)) {\n      elm[key] = cur\n    }\n  }\n}\n\nexport const PropsModule: Module = {\n  create: updateProps,\n  update: updateProps\n}"],"names":[],"mappings":";;;;;;AAEA,qBAAqB,QAAe,EAAE,KAAY;IAChD,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI;QAAE,OAAM;IACzC,IAAI,GAAQ,CAAA;IACZ,IAAI,GAAQ,CAAA;IACZ,IAAI,GAAQ,CAAA;IACZ,IAAI,GAAG,GAAQ,KAAK,CAAC,GAAG,CAAA;IACxB,IAAI,QAAQ,GAAQ,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAA;IAC9D,IAAI,KAAK,GAAQ,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAA;IAErD,KAAK,GAAG,IAAI,QAAQ,EAAE;QACpB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;YACf,OAAO,GAAG,CAAC,GAAG,CAAC,CAAA;SAChB;KACF;IACD,KAAK,GAAG,IAAI,KAAK,EAAE;QACjB,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,CAAA;QAChB,GAAG,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAA;QACnB,IAAI,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,EAAE;YACxD,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAA;SACf;KACF;CACF;AAED,AAAO,IAAM,WAAW,GAAW;IACjC,MAAM,EAAE,WAAW;IACnB,MAAM,EAAE,WAAW;CACpB,CAAA;;;;;;"}