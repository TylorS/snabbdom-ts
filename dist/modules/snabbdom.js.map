{"version":3,"file":null,"sources":["../../src/modules/attributes.ts","../../src/modules/class.ts","../../src/modules/dataset.ts","../../src/is.ts","../../src/modules/eventlisteners.ts","../../src/modules/hero.ts","../../src/modules/props.ts","../../src/modules/style.ts"],"sourcesContent":["import { VNode, Module } from '../interfaces'\n\nconst booleanAttrs = [\n  'allowfullscreen', 'async', 'autofocus', 'autoplay', 'checked', 'compact', 'controls', 'declare',\n  'default', 'defaultchecked', 'defaultmuted', 'defaultselected', 'defer', 'disabled', 'draggable',\n  'enabled', 'formnovalidate', 'hidden', 'indeterminate', 'inert', 'ismap', 'itemscope', 'loop', 'multiple',\n  'muted', 'nohref', 'noresize', 'noshade', 'novalidate', 'nowrap', 'open', 'pauseonexit', 'readonly',\n  'required', 'reversed', 'scoped', 'seamless', 'selected', 'sortable', 'spellcheck', 'translate',\n  'truespeed', 'typemustmatch', 'visible'\n ]\n\nconst booleanAttrsDict: any = {}\n\nfor (let i = 0, len = booleanAttrs.length; i < len; i++) {\n  booleanAttrsDict[booleanAttrs[i]] = true\n}\n\nfunction updateAttrs(oldVnode: VNode, vnode: VNode) {\n  let key: any\n  let cur: any\n  let old: any\n  let elm = vnode.elm as HTMLElement\n  let oldAttrs = oldVnode.data && oldVnode.data.attrs || {}\n  let attrs = vnode.data && vnode.data.attrs || {}\n\n  // update modified attributes, add new attributes\n  for (key in attrs) {\n    cur = attrs[key]\n    old = oldAttrs[key]\n    if (old !== cur) {\n      // TODO: add support to namespaced attributes (setAttributeNS)\n      if (!cur && booleanAttrsDict[key]) {\n        (<HTMLElement> elm).removeAttribute(key)\n      } else {\n        (<HTMLElement> elm).setAttribute(key, cur)\n      }\n    }\n  }\n  //remove removed attributes\n  for (key in oldAttrs) {\n    if (!(key in attrs)) {\n      (<HTMLElement> elm).removeAttribute(key)\n    }\n  }\n}\n\nexport const AttrsModule: Module = {\n  update: updateAttrs,\n  create: updateAttrs,\n}","import { VNode, Module } from '../interfaces'\n\nfunction updateClass(oldVnode: VNode, vnode: VNode) {\n  let cur: any\n  let name: string\n  let elm = vnode.elm as HTMLElement\n  let oldClass = oldVnode.data && oldVnode.data.class || {}\n  let klass = vnode.data && vnode.data.class || {}\n\n  for (name in oldClass) {\n    if (!klass[name]) {\n      (<HTMLElement> elm).classList.remove(name)\n    }\n  }\n  for (name in klass) {\n    cur = klass[name]\n    if (cur !== oldClass[name]) {\n      if (cur) {\n        elm.classList.add(name)\n      } else {\n        elm.classList.remove(name)\n      }\n    }\n  }\n}\n\nexport const ClassModule: Module = {\n  create: updateClass,\n  update: updateClass\n}\n","import { VNode, Module } from '../interfaces'\n\nfunction updateDataset(oldVnode: VNode, vnode: VNode) {\n  let elm = vnode.elm as HTMLElement\n  let oldDataset = oldVnode.data && oldVnode.data.dataset || {}\n  let dataset = vnode.data && vnode.data.dataset || {}\n  let key: any\n\n  for (key in oldDataset) {\n    if (!dataset[key]) {\n      delete elm.dataset[key]\n    }\n  }\n  for (key in dataset) {\n    if (oldDataset[key] !== dataset[key]) {\n      elm.dataset[key] = dataset[key]\n    }\n  }\n}\n\nexport const DatasetModule: Module = {\n  create: updateDataset,\n  update: updateDataset,\n}","const is = {\n  array: Array.isArray,\n  primitive(x: any) {\n    return typeof x === 'string' || typeof x === 'number'\n  }\n}\n\nexport default is\n","import { VNode, Module } from '../interfaces'\nimport is from '../is'\n\nfunction arrInvoker(arr: any[]) {\n  return function() {\n    if (!arr.length) return\n    // Special case when length is two, for performance\n    arr.length === 2 ? arr[0](arr[1]) : arr[0].apply(undefined, arr.slice(1))\n  }\n}\n\nfunction fnInvoker(o: { fn: (event: Event) => any }) {\n  return function(ev: Event) {\n    if (o.fn === null) return\n    o.fn(ev)\n  }\n}\n\nfunction updateEventListeners (oldVnode: VNode, vnode: VNode) {\n  let name: any\n  let cur: any\n  let old: any\n  let elm = vnode.elm as HTMLElement\n  let oldOn = oldVnode.data && oldVnode.data.on\n  let on = vnode.data && vnode.data.on\n\n  if (!on && !oldOn) return\n  on = on || {}\n  oldOn = oldOn || {}\n\n  for (name in on) {\n    cur = on[name]\n    old = oldOn[name]\n    if (old === undefined) {\n      if (is.array(cur)) {\n        elm.addEventListener(name, arrInvoker(cur))\n      } else {\n        cur = {fn: cur}\n        on[name] = cur\n        elm.addEventListener(name, fnInvoker(cur))\n      }\n    } else if (is.array(old)) {\n      // Deliberately modify old array since it's captured in closure created with `arrInvoker`\n      old.length = cur.length\n      for (let i = 0; i < old.length; ++i) old[i] = cur[i]\n      on[name]  = old\n    } else {\n      old.fn = cur\n      on[name] = old\n    }\n  }\n  if (oldOn) {\n    for (name in oldOn) {\n      if (on[name] === undefined) {\n        old = oldOn[name]\n        if (is.array(old)) {\n          old.length = 0\n        } else {\n          old.fn = null\n        }\n      }\n    }\n  }\n}\n\nexport const EventListenerModule: Module = {\n  create: updateEventListeners,\n  update: updateEventListeners\n}\n","import { VNode, Module } from '../interfaces'\n\ninterface HeroVNode extends VNode {\n  isTextNode: boolean\n  boundingRect: ClientRect\n  textRect: ClientRect | null\n  savedStyle: any\n}\n\nconst raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout\nconst nextFrame = function(fn: any) { raf(function() { raf(fn) }) }\n\nfunction setNextFrame(obj: any, prop: string, val: any) {\n  nextFrame(function() { obj[prop] = val })\n}\n\nfunction getTextNodeRect(textNode: Text) {\n  let rect: ClientRect | null = null\n  if (document.createRange) {\n    let range = document.createRange()\n    range.selectNodeContents(textNode)\n    if (range.getBoundingClientRect) {\n      rect = range.getBoundingClientRect()\n    }\n  }\n  return rect\n}\n\nfunction calcTransformOrigin(isTextNode: boolean, textRect: ClientRect, boundingRect: ClientRect): string {\n  if (isTextNode) {\n    if (textRect) {\n      //calculate pixels to center of text from left edge of bounding box\n      let relativeCenterX = textRect.left + textRect.width / 2 - boundingRect.left\n      let relativeCenterY = textRect.top + textRect.height / 2 - boundingRect.top\n      return relativeCenterX + 'px ' + relativeCenterY + 'px'\n    }\n  }\n  return '0 0' //top left\n}\n\nfunction getTextDx(oldTextRect: ClientRect, newTextRect: ClientRect): number {\n  if (oldTextRect && newTextRect) {\n    return ((oldTextRect.left + oldTextRect.width / 2) - (newTextRect.left + newTextRect.width / 2))\n  }\n  return 0\n}\nfunction getTextDy(oldTextRect: ClientRect, newTextRect: ClientRect): number {\n  if (oldTextRect && newTextRect) {\n    return ((oldTextRect.top + oldTextRect.height / 2) - (newTextRect.top + newTextRect.height / 2))\n  }\n  return 0\n}\n\nfunction isTextElement(elm: Element | Text): boolean {\n  return elm.childNodes.length === 1 && elm.childNodes[0].nodeType === 3\n}\n\nlet removed: any\nlet created: any[]\n\nfunction pre() {\n  removed = {}\n  created = []\n}\n\nfunction create(_: VNode, vnode: VNode) {\n  let hero = vnode.data && vnode.data.hero\n  if (hero && hero.id) {\n    created.push(hero.id)\n    created.push(vnode)\n  }\n}\n\nfunction destroy(vnode: HeroVNode) {\n  let hero = vnode.data && vnode.data.hero\n  if (hero && hero.id) {\n    let elm = vnode.elm as Element\n    vnode.isTextNode = isTextElement(elm as Element) //is this a text node?\n    vnode.boundingRect = (elm as HTMLElement).getBoundingClientRect() //save the bounding rectangle to a new property on the vnode\n    vnode.textRect = vnode.isTextNode ? getTextNodeRect((elm as any).childNodes[0]) : null //save bounding rect of inner text node\n    let computedStyle = window.getComputedStyle((elm as HTMLElement)) //get current styles (includes inherited properties)\n    vnode.savedStyle = JSON.parse(JSON.stringify(computedStyle)) //save a copy of computed style values\n    removed[hero.id] = vnode\n  }\n}\n\nfunction post() {\n  let i: any\n  let id: any\n  let newElm: any\n  let oldVnode: HeroVNode\n  let oldElm: any\n  let hRatio: any\n  let wRatio: any\n  let oldRect: any\n  let newRect: any\n  let dx: any\n  let dy: any\n  let origTransform: any\n  let origTransition: any\n  let newStyle: any\n  let oldStyle: any\n  let newComputedStyle: any\n  let isTextNode: any\n  let newTextRect: any\n  let oldTextRect: any\n  for (i = 0; i < created.length; i += 2) {\n    id = created[i]\n    newElm = created[i + 1].elm\n    oldVnode = removed[id]\n    if (oldVnode) {\n      isTextNode = oldVnode.isTextNode && isTextElement(newElm) //Are old & new both text?\n      newStyle = newElm.style\n      newComputedStyle = window.getComputedStyle(newElm) //get full computed style for new element\n      oldElm = oldVnode.elm\n      oldStyle = oldElm.style\n      //Overall element bounding boxes\n      newRect = newElm.getBoundingClientRect()\n      oldRect = oldVnode.boundingRect //previously saved bounding rect\n      //Text node bounding boxes & distances\n      if (isTextNode) {\n        newTextRect = getTextNodeRect(newElm.childNodes[0])\n        oldTextRect = oldVnode.textRect\n        dx = getTextDx(oldTextRect, newTextRect)\n        dy = getTextDy(oldTextRect, newTextRect)\n      } else {\n        //Calculate distances between old & new positions\n        dx = oldRect.left - newRect.left\n        dy = oldRect.top - newRect.top\n      }\n      hRatio = newRect.height / (Math.max(oldRect.height, 1))\n      wRatio = isTextNode ? hRatio : newRect.width / (Math.max(oldRect.width, 1)) //text scales based on hRatio\n      // Animate new element\n      origTransform = newStyle.transform\n      origTransition = newStyle.transition\n      if (newComputedStyle.display === 'inline') //inline elements cannot be transformed\n        newStyle.display = 'inline-block'        //this does not appear to have any negative side effects\n      newStyle.transition = origTransition + 'transform 0s'\n      newStyle.transformOrigin = calcTransformOrigin(isTextNode, newTextRect, newRect)\n      newStyle.opacity = '0'\n      newStyle.transform = origTransform + 'translate(' + dx + 'px, ' + dy + 'px) ' +\n        'scale(' + 1 / wRatio + ', ' + 1 / hRatio + ')'\n      setNextFrame(newStyle, 'transition', origTransition)\n      setNextFrame(newStyle, 'transform', origTransform)\n      setNextFrame(newStyle, 'opacity', '1')\n      // Animate old element\n      for (let key in oldVnode.savedStyle) { //re-apply saved inherited properties\n        if (typeof key === 'number' && parseInt(key) !== key) {\n          let ms = (key as any).substring(0, 2) === 'ms'\n          let moz = (key as any).substring(0, 3) === 'moz'\n          let webkit = (key as any).substring(0, 6) === 'webkit'\n          if (!ms && !moz && !webkit) //ignore prefixed style properties\n            oldStyle[(key as any)] = oldVnode.savedStyle[(key as any)]\n        }\n      }\n      oldStyle.position = 'absolute'\n      oldStyle.top = oldRect.top + 'px' //start at existing position\n      oldStyle.left = oldRect.left + 'px'\n      oldStyle.width = oldRect.width + 'px' //Needed for elements who were sized relative to their parents\n      oldStyle.height = oldRect.height + 'px' //Needed for elements who were sized relative to their parents\n      oldStyle.margin = 0 //Margin on hero element leads to incorrect positioning\n      oldStyle.transformOrigin = calcTransformOrigin(isTextNode, oldTextRect, oldRect)\n      oldStyle.transform = ''\n      oldStyle.opacity = '1'\n      document.body.appendChild(oldElm)\n      // scale must be on far right for translate to be correct\n      setNextFrame(oldStyle, 'transform', 'translate(' + -dx + 'px, ' + -dy + 'px) scale(' + wRatio + ', ' + hRatio + ')')\n      setNextFrame(oldStyle, 'opacity', '0')\n      oldElm.addEventListener('transitionend', function (ev: TransitionEvent) {\n        if (ev.propertyName === 'transform')\n          document.body.removeChild(ev.target as Node)\n      })\n    }\n  }\n  removed = {}\n  created = []\n}\n\nexport const HeroModule: Module = {\n  pre,\n  create,\n  destroy,\n  post\n}","import { VNode, Module } from '../interfaces'\n\nfunction updateProps(oldVnode: VNode, vnode: VNode) {\n  if (!oldVnode.data && !vnode.data) return\n  let key: any\n  let cur: any\n  let old: any\n  let elm: any = vnode.elm\n  let oldProps: any = oldVnode.data && oldVnode.data.props || {}\n  let props: any = vnode.data && vnode.data.props || {}\n\n  for (key in oldProps) {\n    if (!props[key]) {\n      delete elm[key]\n    }\n  }\n  for (key in props) {\n    cur = props[key]\n    old = oldProps[key]\n    if (old !== cur && (key !== 'value' || elm[key] !== cur)) {\n      elm[key] = cur\n    }\n  }\n}\n\nexport const PropsModule: Module = {\n  create: updateProps,\n  update: updateProps\n}","import { VNode, Module} from '../interfaces'\n\nconst raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout\nconst nextFrame = function nextFrame(fn: any) { raf(function() { raf(fn) }) }\n\nfunction setNextFrame(obj: any, prop: string, val: any) {\n  nextFrame(function() { obj[prop] = val })\n}\n\nfunction updateStyle(oldVnode: VNode, vnode: VNode) {\n  if (!vnode.data && !oldVnode.data) return\n  let cur: any\n  let name: any\n  let elm = vnode.elm as HTMLElement\n  let oldStyle = oldVnode.data && oldVnode.data.style || {}\n  let style = vnode.data && vnode.data.style || {}\n  let oldHasDel = 'delayed' in oldStyle\n\n  for (name in oldStyle) {\n    if (!style[name]) {\n      (<HTMLElement> elm).style[name] = ''\n    }\n  }\n  for (name in style) {\n    cur = style[name]\n    if (name === 'delayed') {\n      for (name in (<any> style).delayed) {\n        cur = (<any> style).delayed[name]\n        if (!oldHasDel || cur !== (<any> oldStyle).delayed[name]) {\n          setNextFrame((<HTMLElement> elm).style, name, cur)\n        }\n      }\n    } else if (name !== 'remove' && cur !== oldStyle[name]) {\n      (<HTMLElement> elm).style[name] = cur\n    }\n  }\n}\n\nfunction applyDestroyStyle(vnode: VNode) {\n  let style: any\n  let name: any\n  let elm = vnode.elm\n  let s = vnode.data && vnode.data.style\n\n  if (!s || !(style = (<any> s).destroy)) return\n  for (name in style) {\n    (<HTMLElement> elm).style[name] = style[name]\n  }\n}\n\nfunction applyRemoveStyle(vnode: VNode, rm: () => void) {\n  let s = vnode && vnode.data && vnode.data.style\n  if (!s || !(<any> s).remove) {\n    rm()\n    return\n  }\n  let name: any\n  let elm = vnode.elm\n  if (!elm) return\n  let i = 0\n  let compStyle: any\n  let style = (<any> s).remove\n  let amount = 0\n  let applied: any[] = []\n  for (name in style) {\n    applied.push(name);\n    (<HTMLElement> elm).style[name] = style[name]\n  }\n  compStyle = getComputedStyle((<HTMLElement> elm))\n  let props = compStyle['transition-property'].split(', ')\n  for (; i < props.length; ++i) {\n    if (applied.indexOf(props[i]) !== -1) amount++\n  }\n  elm.addEventListener('transitionend', function(ev: Event) {\n    if (ev.target === elm) --amount\n    if (amount === 0) rm()\n  })\n}\n\nexport const StyleModule: Module = {\n  create: updateStyle,\n  update: updateStyle,\n  destroy: applyDestroyStyle,\n  remove: applyRemoveStyle\n}"],"names":["raf","nextFrame","setNextFrame"],"mappings":"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"}