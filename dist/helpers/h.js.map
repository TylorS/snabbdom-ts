{"version":3,"file":null,"sources":["../../node_modules/rollup-plugin-typescript/src/typescript-helpers.js","../../src/interfaces.ts","../../src/is.ts","../../src/helpers/h.ts"],"sourcesContent":["export const __assign = Object.assign || function (target) {\n    for (var source, i = 1; i < arguments.length; i++) {\n        source = arguments[i];\n        for (var prop in source) {\n            if (Object.prototype.hasOwnProperty.call(source, prop)) {\n                target[prop] = source[prop];\n            }\n        }\n    }\n    return target;\n};\n\nexport function __extends(d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport function __decorate(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __metadata(k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n}\n\nexport function __param(paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments)).next());\n    });\n}\n","export type PreHook = () => any\nexport type InitHook = (vNode: VNode) => any\nexport type CreateHook = (emptyVNode: VNode, vNode: VNode) => any\nexport type InsertHook = (vNode: VNode) => any\nexport type PrePatchHook = (oldVNode: VNode, vNode: VNode) => any\nexport type UpdateHook = (oldVNode: VNode, vNode: VNode) => any\nexport type PostPatchHook = (oldVNode: VNode, vNode: VNode) => any\nexport type DestroyHook = (vNode: VNode) => any\nexport type RemoveHook = (vNode: VNode, removeCallback: () => void) => any\nexport type PostHook = () => any\n\nexport interface Hooks {\n  pre?: PreHook\n  init?: InitHook\n  create?: CreateHook\n  insert?: InsertHook\n  prepatch?: PrePatchHook\n  update?: UpdateHook\n  postpatch?: PostPatchHook\n  destroy?: DestroyHook\n  remove?: RemoveHook\n  post?: PostHook\n}\n\nexport interface Module {\n  pre?: PreHook\n  create?: CreateHook\n  update?: UpdateHook\n  destroy?: DestroyHook\n  remove?: RemoveHook\n  post?: PostHook\n}\n\nexport interface SnabbdomAPI<A, B, C> {\n  createElement(tagName: string): A\n  createElementNS(namespaceURI: string, qualifiedName: string): A\n  createTextNode(text: string): B\n  insertBefore(parentNode: A | B, newNode: A | B, referenceNode: A | B): void\n  removeChild(node: A | B, child: A | B): void\n  appendChild(node: A, child: A | B): void\n  parentNode(node: A | B): A | B\n  nextSibling(node: A | B): A | C\n  tagName(node: A): string\n  setTextContent(node: A | B, text: string): void\n}\n\nexport interface VNodeData {\n  // modules - use any because Object type is useless\n  props?: any\n  attrs?: any\n  class?: any\n  style?: any\n  dataset?: any\n  on?: any\n  hero?: any\n  // end of modules\n  hook?: Hooks\n  key?: string | number\n  ns?: string; // for SVGs\n  fn?: () => VNode // for thunks\n  args?: Array<any> // for thunks\n  attachData?: any // for attachTo()\n  // Cycle.js only\n  isolate?: string\n  static?: boolean\n}\n\nexport interface VirtualNode<T extends Node> {\n  tagName: string | undefined\n  className: string | undefined\n  id: string | undefined\n  data: VNodeData | undefined\n  children: VNodeChildren | undefined\n  elm: T | undefined\n  text: string | undefined\n  key: string | number | undefined\n}\n\nexport type VNode = VirtualNode<any>;\nexport type VNodeChildren = Array<VNode | string | null>;\n\nexport class SnabbdomVNode implements VNode {\n  constructor(\n    public tagName: string | undefined,\n    public className: string | undefined,\n    public id: string | undefined,\n    public data: VNodeData | undefined,\n    public children: Array<VNode | string | null> | undefined,\n    public text: string | undefined,\n    public elm: HTMLElement | Text | undefined,\n    public key: string | number | undefined) {\n  }\n\n  static createTextVNode(text: string) {\n    return new SnabbdomVNode(undefined, undefined, undefined, undefined, undefined, text, undefined, undefined)\n  }\n}\n\nexport interface ThunkData extends VNodeData {\n  fn: () => VNode\n  args: any[]\n}\n\nexport class Thunk extends SnabbdomVNode {\n  public data: ThunkData\n\n  constructor(\n    tagName: string | undefined,\n    className: string | undefined,\n    id: string | undefined,\n    data: ThunkData,\n    children: Array<VNode | string | null> | undefined,\n    text: string | undefined,\n    elm: HTMLElement | Text | undefined,\n    key: string | number | undefined) {\n    super(tagName, className, id, data, children, text, elm, key)\n  }\n}\n\n/* tslint:disable:max-line-length */\nexport interface ThunkFn {\n  <A>(selector: string, key: string | number, render: (state1?: A) => VNode, state: A): Thunk\n  <A, B>(selector: string, key: string | number, render: (state1?: A, state2?: B) => VNode, state: A, state2: B): Thunk\n  <A, B, C>(selector: string, key: string | number, render: (state1?: A, state2?: B, state3?: C) => VNode, state: A, state2: B, state3: C): Thunk\n  <A, B, C, D>(selector: string, key: string | number, render: (state1?: A, state2?: B, state3?: C, state4?: D) => VNode, state: A, state2: B, state3: C, state4: D): Thunk\n  <A, B, C, D, E>(selector: string, key: string | number, render: (state1?: A, state2?: B, state3?: C, state4?: D, state5?: E) => VNode, state: A, state2: B, state3: C, state4: D, state5?: E): Thunk\n  <A, B, C, D, E, F>(selector: string, key: string | number, render: (state1?: A, state2?: B, state3?: C, state4?: D, state5?: E, state6?: F) => VNode, state: A, state2: B, state3: C, state4: D, state5: E, state6: F): Thunk\n  <A, B, C, D, E, F, G>(selector: string, key: string | number, render: (state1?: A, state2?: B, state3?: C, state4?: D, state5?: E, state6?: F, state7?: G) => VNode, state: A, state2: B, state3: C, state4: D, state5: E, state6: F, state7: G): Thunk\n  <A, B, C, D, E, F, G, H>(selector: string, key: string | number, render: (state1?: A, state2?: B, state3?: C, state4?: D, state5?: E, state6?: F, state7?: G, state8?: H) => VNode, state: A, state2: B, state3: C, state4: D, state5: E, state6: F, state7: G, state8: H): Thunk\n  <A, B, C, D, E, F, G, H, I>(selector: string, key: string | number, render: (state1?: A, state2?: B, state3?: C, state4?: D, state5?: E, state6?: F, state7?: G, state8?: H, state9?: I) => VNode, state: A, state2: B, state3: C, state4: D, state5: E, state6: F, state7: G, state8: H, state9: I): Thunk\n  <A, B, C, D, E, F, G, H, I, J>(selector: string, key: string | number, render: (state1?: A, state2?: B, state3?: C, state4?: D, state5?: E, state6?: F, state7?: G, state8?: H, state9?: I, state10?: J) => VNode, state: A, state2: B, state3: C, state4: D, state5: E, state6: F, state7: G, state8: H, state9: I, state10: J): Thunk\n  (selector: string, key: string | number, render: (...state: any[]) => VNode, ...state: any[]): Thunk\n}\n/* tslint:enable:max-line-length */\n","const is = {\n  array: Array.isArray,\n  primitive(x: any) {\n    return typeof x === 'string' || typeof x === 'number'\n  }\n}\n\nexport default is\n","import { VNode, VNodeData, VirtualNode, SnabbdomVNode } from '../interfaces'\nimport is from '../is'\n\nfunction addNS(data: VNodeData, children: Array<VNode | string | null>, selector: string): void {\n  data.ns = `http://www.w3.org/2000/svg`;\n  if (selector !== `foreignObject` && typeof children !== `undefined` && is.array(children)) {\n    for (let i = 0; i < children.length; ++i) {\n        addNS((children[i] as VNode).data as VNodeData,\n              (children[i] as VNode).children as Array<VNode | string>,\n              (children[i] as VNode).tagName as string)\n    }\n  }\n}\n\nexport interface HyperscriptFn {\n  (sel: string): VNode\n  (sel: string, data: VNodeData): VNode\n  (sel: string, children: string | number | Array<string | VNode | null>): VNode\n  (sel: string, data: VNodeData, children: string | number | Array<string | VNode | null>): VNode\n  <T extends Node>(sel: string): VirtualNode<T>\n  <T extends Node>(sel: string, data: VNodeData): VirtualNode<T>\n  <T extends Node>(sel: string, children: string | number | Array<string | VNode | null>): VirtualNode<T>\n  <T extends Node>(sel: string, data: VNodeData, children: string | number | Array<string | VNode | null>): VirtualNode<T>\n}\n\nexport const h: HyperscriptFn = <HyperscriptFn>function (selector: string, b?: any, c?: any): VNode {\n  let data: VNodeData = {}\n  let children: Array<VNode | string | null> | undefined\n  let text: string | undefined\n  let i: number\n\n  if (arguments.length === 3) {\n    data = b\n    if (is.array(c)) {\n      children = c\n    } else if (is.primitive(c)) {\n      text = String(c)\n    }\n  } else if (arguments.length === 2) {\n    if (is.array(b)) {\n      children = b\n    } else if (is.primitive(b)) {\n      text = String(b)\n    } else {\n      data = b\n    }\n  }\n\n  if (is.array(children)) {\n    children = children.filter(Boolean)\n    for (i = 0; i < children.length; ++i) {\n      if (is.primitive(children[i])) {\n        children[i] = SnabbdomVNode.createTextVNode(String(children[i]) as string)\n      }\n    }\n  }\n\n  const { tagName, id, className } = parseSelector(selector);\n\n  if (tagName === 'svg') {\n    addNS(data, children as Array<VNode | string | null>, tagName)\n  }\n\n  return new SnabbdomVNode(tagName, className, id, data, children, text, undefined, data && data.key)\n}\n\nfunction parseSelector(sel: string) {\n  // Parse selector\n  let hashIdx = sel.indexOf('#')\n  let dotIdx = sel.indexOf('.', hashIdx)\n  let hash = hashIdx > 0 ? hashIdx : sel.length\n  let dot = dotIdx > 0 ? dotIdx : sel.length\n\n  let tagName = hashIdx !== -1 || dotIdx !== -1\n    ? sel.slice(0, Math.min(hash, dot))\n    : sel\n\n  const id = sel.slice(hash + 1, dot) || void 0;\n\n  const className = dotIdx < sel.length &&  dotIdx > 0\n    ? sel.slice(dot + 1).replace(/\\./g, ' ')\n    : void 0;\n\n  return {\n    tagName: tagName,\n    id,\n    className,\n  }\n}"],"names":[],"mappings":"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"}